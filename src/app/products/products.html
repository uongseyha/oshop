<div class="container-fluid my-4">
  <div class="row">
    <!-- LEFT COLUMN: Categories Sidebar -->
    <div class="col-lg-3 col-xl-2 mb-4 mb-lg-0">
      <app-product-filter
        (categorySelected)="filterByCategory($event)"
      ></app-product-filter>
    </div>

    <!-- RIGHT COLUMN: Products Grid -->
    <div class="col-lg-9 col-xl-10">
      <!-- Loading Spinner -->
      <div *ngIf="loading" class="text-center py-5">
        <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
          <span class="visually-hidden">Loading...</span>
        </div>
        <p class="mt-3 text-muted">Loading products...</p>
      </div>

      <!-- Content (shown when not loading) -->
      <div *ngIf="!loading">
        <!-- Optional header with count -->
        <div class="d-flex justify-content-between align-items-center mb-4">
          <h3 class="mb-0">
            {{ getCategoryName() }}
            <small class="text-muted">({{ filteredProducts.length }} items)</small>
          </h3>
        </div>

        <!-- Product Cards Grid -->
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-3 row-cols-xl-4 g-4">
        <div class="col" *ngFor="let p of filteredProducts">
            <app-product-card [product]="p"></app-product-card>
        </div>

        <!-- No products found -->
        <div *ngIf="filteredProducts.length === 0" class="col-12 text-center py-5">
          <h4 class="text-muted">No products found in this category</h4>
          <p>Try selecting a different category or adjust filters</p>
        </div>
      </div>
      </div>
    </div>
  </div>
</div>
