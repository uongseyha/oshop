import './polyfills.server.mjs';
import{a as N,b as T}from"./chunk-ARWO4DGV.mjs";import{a as M}from"./chunk-SANJTULJ.mjs";import"./chunk-TOR6ZFJF.mjs";import"./chunk-PTM5PHSC.mjs";import"./chunk-BWIQO4HK.mjs";import{C as E,g,h as I,k as f}from"./chunk-WGIOOPUP.mjs";import{Ob as a,Pb as o,Qb as c,Rb as w,T as h,Yb as F,bb as n,bc as d,cc as P,gb as x,ka as S,la as b,nb as s,oc as _,qc as l,sc as u,tb as p,zb as m}from"./chunk-RSKEQSSP.mjs";import"./chunk-S6KH3LOX.mjs";function j(i,e){if(i&1){let t=F();o(0,"button",4),d("click",function(){let v=S(t).$implicit,C=P();return b(C.filterByCategory(v))}),l(1),c()}if(i&2){let t=e.$implicit,r=P();_("active",r.selectedCategory===t),n(),u(" ",t.name||t.description," ")}}var y=class i{constructor(e){this.categoryService=e;this.loadCategories()}categories=[];selectedCategory=null;categorySelected=new x;loadCategories(){this.categoryService.getCategories().subscribe(e=>{this.categories=e})}filterByCategory(e){this.selectedCategory=e,this.categorySelected.emit(e)}static \u0275fac=function(t){return new(t||i)(s(N))};static \u0275cmp=p({type:i,selectors:[["app-product-filter"]],outputs:{categorySelected:"categorySelected"},decls:8,vars:3,consts:[[1,"card","shadow-sm","border-0","sticky-top",2,"top","1rem"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"list-group","list-group-flush"],["type","button",1,"list-group-item","list-group-item-action",3,"click"],["type","button","class","list-group-item list-group-item-action",3,"active","click",4,"ngFor","ngForOf"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"div",1)(2,"h5",2),l(3,"Categories"),c()(),o(4,"div",3)(5,"button",4),d("click",function(){return r.filterByCategory(null)}),l(6," All Products "),c(),m(7,j,2,3,"button",5),c()()),t&2&&(n(5),_("active",r.selectedCategory===null),n(2),a("ngForOf",r.categories))},dependencies:[f,g],encapsulation:2})};function A(i,e){if(i&1&&(o(0,"div",11),w(1,"app-product-card",12),c()),i&2){let t=e.$implicit;n(),a("product",t)}}function R(i,e){i&1&&(o(0,"div",13)(1,"h4",7),l(2,"No products found in this category"),c(),o(3,"p"),l(4,"Try selecting a different category or adjust filters"),c()())}var k=class i{constructor(e,t){this.productService=e;this.route=t;this.loadProducts()}products=[];filteredProducts=[];selectedCategory=null;loadProducts(){this.productService.getProducts().pipe(h(e=>(this.products=e,this.route.queryParamMap))).subscribe(e=>{let t=e.get("categoryId"),r=t?{id:+t,name:"",description:""}:null;this.filterByCategory(r||null)})}filterByCategory(e){e?.id?(this.filteredProducts=this.products.filter(t=>t.categoryId===e.id),this.selectedCategory=e):(this.filteredProducts=this.products,this.selectedCategory=null)}getCategoryName(){return this.selectedCategory?this.selectedCategory.name||this.selectedCategory.description:"All Products"}static \u0275fac=function(t){return new(t||i)(s(M),s(E))};static \u0275cmp=p({type:i,selectors:[["app-products"]],decls:13,vars:4,consts:[[1,"container-fluid","my-4"],[1,"row"],[1,"col-lg-3","col-xl-2","mb-4","mb-lg-0"],[3,"categorySelected"],[1,"col-lg-9","col-xl-10"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"mb-0"],[1,"text-muted"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-3","row-cols-lg-3","row-cols-xl-4","g-4"],["class","col",4,"ngFor","ngForOf"],["class","col-12 text-center py-5",4,"ngIf"],[1,"col"],[3,"product"],[1,"col-12","text-center","py-5"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-product-filter",3),d("categorySelected",function(C){return r.filterByCategory(C)}),c()(),o(4,"div",4)(5,"div",5)(6,"h3",6),l(7),o(8,"small",7),l(9),c()()(),o(10,"div",8),m(11,A,2,1,"div",9)(12,R,5,0,"div",10),c()()()()),t&2&&(n(7),u(" ",r.getCategoryName()," "),n(2),u("(",r.filteredProducts.length," items)"),n(2),a("ngForOf",r.filteredProducts),n(),a("ngIf",r.filteredProducts.length===0))},dependencies:[f,g,I,y,T],encapsulation:2})};export{k as Products};
