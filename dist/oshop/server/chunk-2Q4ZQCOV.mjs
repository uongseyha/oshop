import './polyfills.server.mjs';
import{h as G}from"./chunk-WPFXNJQP.mjs";import{a as N}from"./chunk-QCMMUFDB.mjs";import{a as W,d as j,e as q,f as B,g as P,h as R,o as L,r as A}from"./chunk-3JAW3IHD.mjs";import{F as V,g as I,h as D,j as T,k as F}from"./chunk-GETTAUF5.mjs";import{Dc as y,Ec as h,Ob as p,Pb as t,Qb as i,Rb as b,Yb as w,bb as c,bc as O,cc as m,ka as s,la as u,mc as M,nb as f,qc as n,rc as C,sc as k,tb as S,tc as E,uc as g,vc as v,wc as _,zb as x}from"./chunk-RSKEQSSP.mjs";import"./chunk-S6KH3LOX.mjs";function z(d,a){d&1&&(t(0,"div",23),n(1," Your cart is empty "),i())}function H(d,a){if(d&1&&(t(0,"div",24)(1,"div")(2,"div",25),n(3),i(),t(4,"small",23),n(5),y(6,"currency"),i()(),t(7,"div",25),n(8),y(9,"currency"),i()()),d&2){let e=a.$implicit;c(3),C(e.productTitle),c(2),E(" ",e.quantity," \xD7 ",h(6,4,e.price)," "),c(3),k(" ",h(9,6,e.quantity*e.price)," ")}}function J(d,a){if(d&1){let e=w();t(0,"div",2)(1,"div",3)(2,"h3",4),n(3,"\u{1F9FE} Checkout"),i()(),t(4,"div",5)(5,"div",6)(6,"div",7)(7,"div",8)(8,"h5",9),n(9,"Billing Details"),i(),t(10,"form",10,0),O("ngSubmit",function(){s(e);let o=m();return u(o.placeOrder())}),t(12,"div",11)(13,"label",12),n(14,"Full Name"),i(),t(15,"input",13),_("ngModelChange",function(o){s(e);let l=m();return v(l.order.name,o)||(l.order.name=o),u(o)}),i()(),t(16,"div",11)(17,"label",12),n(18,"Address"),i(),t(19,"textarea",14),_("ngModelChange",function(o){s(e);let l=m();return v(l.order.address,o)||(l.order.address=o),u(o)}),i()(),t(20,"div",15)(21,"label",12),n(22,"City"),i(),t(23,"input",16),_("ngModelChange",function(o){s(e);let l=m();return v(l.order.city,o)||(l.order.city=o),u(o)}),i()(),t(24,"button",17),n(25," Place Order "),i()()()()(),t(26,"div",18)(27,"div",19)(28,"div",8)(29,"h5",9),n(30,"\u{1F6D2} Order Summary"),i(),x(31,z,2,0,"div",20)(32,H,10,8,"div",21),b(33,"hr"),t(34,"div",22)(35,"span"),n(36,"Total"),i(),t(37,"span"),n(38),y(39,"currency"),i()()()()()()()}if(d&2){let e=M(11),r=m();c(15),g("ngModel",r.order.name),c(4),g("ngModel",r.order.address),c(4),g("ngModel",r.order.city),c(),p("disabled",e.invalid||r.cart.items.length===0),c(7),p("ngIf",r.cart.items.length===0),c(),p("ngForOf",r.cart.items),c(6),C(h(39,7,r.total()))}}var Y=class d{constructor(a,e,r){this.cartService=a;this.router=e;this.toastr=r}order={name:"",address:"",city:""};cart;ngOnInit(){let a=this.cartService.getCheckoutCart();if(!a||a.items.length===0){this.router.navigate(["/cart"]);return}this.cart=a}total(){return this.cart.items.reduce((a,e)=>a+e.price*e.quantity,0)}placeOrder(){console.log("Order placed",{customer:this.order,cart:this.cart}),this.cartService.clearCheckoutCart(),this.toastr.success("Cart updated successfully")}static \u0275fac=function(e){return new(e||d)(f(N),f(V),f(G))};static \u0275cmp=S({type:d,selectors:[["app-check-out"]],decls:1,vars:1,consts:[["checkoutForm","ngForm"],["class","container my-5",4,"ngIf"],[1,"container","my-5"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"fw-bold","mb-0"],[1,"row","g-4"],[1,"col-md-7"],[1,"card","shadow-sm","border-0"],[1,"card-body"],[1,"fw-semibold","mb-3"],[3,"ngSubmit"],[1,"mb-3"],[1,"form-label","fw-semibold"],["type","text","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["rows","3","name","address","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-4"],["type","text","name","city","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-success","w-100","py-2",3,"disabled"],[1,"col-md-5"],[1,"card","shadow-sm","border-0","position-sticky",2,"top","20px"],["class","text-muted",4,"ngIf"],["class","d-flex justify-content-between align-items-start mb-3",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","fw-bold","fs-5"],[1,"text-muted"],[1,"d-flex","justify-content-between","align-items-start","mb-3"],[1,"fw-semibold"]],template:function(e,r){e&1&&x(0,J,40,9,"div",1),e&2&&p("ngIf",r.cart)},dependencies:[A,R,W,j,q,L,P,B,F,I,D,T],styles:["h2[_ngcontent-%COMP%]{color:#333}"]})};export{Y as CheckOut};
